#!/bin/sh

echo "ðŸŒ€ Activating Python virtualenv..."
cd backend || exit 1
. venv/bin/activate || exit 1

echo "ðŸŒ€ Generating OpenAPI schema..."
python3 manage.py spectacular --file ../openapi/schema.yaml || exit 1

echo "ðŸ”„ Running Kubb to sync frontend hooks & types..."
cd ../frontend || exit 1
npx kubb || exit 1

echo "âœ… All good! Pushing..."
